import{$ as H,A as T,B as R,Ba as we,C as A,D as de,E as V,F as U,H as se,J as me,La as q,Ma as Me,O as h,Q as g,R as W,S as M,U as le,V as pe,W as B,Y as z,_ as ue,a as ee,aa as K,ba as G,ca as o,d as te,da as c,e as ae,ea as b,f as re,fa as $,g as S,ga as Z,h as ie,ha as x,i as l,ia as X,j as ne,ja as D,k as F,la as d,m as N,n as L,o as v,oa as Y,p,pa as ge,qa as fe,r as u,ra as ve,s as oe,sa as he,u as ce,va as be,w,x as _,xa as Ce,y as j,z as P,za as ye}from"./chunk-DHAG3G5S.js";var Le=["*"];var je=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Pe=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],Re=new T("MAT_CARD_CONFIG"),xe=(()=>{class e{appearance;constructor(){let t=A(Re,{optional:!0});this.appearance=t?.appearance||"raised"}static \u0275fac=function(a){return new(a||e)};static \u0275cmp=g({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(a,i){a&2&&z("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Le,decls:1,vars:0,template:function(a,i){a&1&&(X(),D(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),De=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275dir=M({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})();var Ee=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275dir=M({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})(),Ie=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275dir=M({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return e})(),Se=(()=>{class e{align="start";static \u0275fac=function(a){return new(a||e)};static \u0275dir=M({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(a,i){a&2&&z("mat-mdc-card-actions-align-end",i.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"]})}return e})(),_e=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275cmp=g({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Pe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(a,i){a&1&&(X(je),D(0),o(1,"div",0),D(2,1),c(),D(3,2))},encapsulation:2,changeDetection:0})}return e})();var Te=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=W({type:e});static \u0275inj=P({imports:[q,q]})}return e})();function We(e,r){if(e&1&&(o(0,"p"),d(1),c()),e&2){let t=r.$implicit;h(),Y("",t.timestamp,": ",t.log,"")}}function Be(e,r){if(e&1){let t=$();o(0,"h1"),d(1,"Arduino"),c(),o(2,"mat-card",2),d(3," Morning Dose: Taken "),c(),b(4,"br"),o(5,"mat-card",2),d(6," Noon Dose: Not Taken "),c(),b(7,"br"),o(8,"mat-card",2),d(9," Evening Dose: Taken "),c(),b(10,"br"),o(11,"mat-card",1)(12,"mat-card-header")(13,"mat-card-title"),d(14,"Logging Information"),c(),o(15,"mat-card-subtitle"),d(16,"Recent Events:"),c()(),o(17,"mat-card-content"),K(18,We,2,2,"p",null,H),c(),o(20,"mat-card-actions",3)(21,"button",4),Z("click",function(){V(t);let i=x();return U(i.viewFullLog())}),d(22,"View full log"),c()()()}if(e&2){let t=x();h(18),G(t.intakeMedicineLog.getValue().slice(0,2))}}function ze(e,r){if(e&1&&(o(0,"p"),d(1),c()),e&2){let t=r.$implicit;h(),Y("",t.timestamp,": ",t.log,"")}}function He(e,r){if(e&1){let t=$();o(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),d(3,"Logging Information"),c(),o(4,"mat-card-subtitle"),d(5,"Recent Events:"),c()(),o(6,"mat-card-content"),K(7,ze,2,2,"p",null,H),ge(9,"async"),c(),o(10,"mat-card-actions",3)(11,"button",4),Z("click",function(){V(t);let i=x();return U(i.exitFullLog())}),d(12,"Back"),c()()()}if(e&2){let t=x();h(7),G(fe(9,0,t.intakeMedicineLog))}}var k=class e{bluetoothService=A(Me);intakeMedicineLog=new ae([]);showLogs=!1;ngOnInit(){this.bluetoothService.data$.pipe(p(r=>r==="intake medicine"),_(r=>{this.intakeMedicineLog.next([{timestamp:new Date,log:r},...this.intakeMedicineLog.getValue()])})).subscribe()}viewFullLog(){this.showLogs=!0}exitFullLog(){this.showLogs=!1}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-details"]],decls:3,vars:1,consts:[[1,"container"],["appearance","outlined"],["appearance","outlined",1,"dose-information"],["align","end"],["mat-button","","color","accent",3,"click"]],template:function(t,a){t&1&&(o(0,"div",0),le(1,Be,23,0)(2,He,13,2,"mat-card",1),c()),t&2&&(h(),ue(a.showLogs?2:1))},dependencies:[Te,xe,Se,Ee,_e,Ie,De,be],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}mat-card[_ngcontent-%COMP%]{width:80%;max-width:800px;display:flex;flex-direction:column;align-items:center;padding:1.5rem}mat-card.dose-information[_ngcontent-%COMP%]{font-size:1.5rem}"]})};var C=class e{title="MediMinder";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,a){t&1&&b(0,"router-outlet")},dependencies:[ye],encapsulation:2})};var Ae=[{path:"",component:C,children:[{path:"",loadComponent:()=>import("./chunk-5NXVZ2I2.js").then(e=>e.HomeComponent)}]},{path:"details/:id",component:k}];var I="Service workers are disabled or not supported by this browser";function Ke(e){return F(()=>ie(new Error(e)))}var y=class{serviceWorker;worker;registration;events;constructor(r){if(this.serviceWorker=r,!r)this.worker=this.events=this.registration=Ke(I);else{let a=N(r,"controllerchange").pipe(l(()=>r.controller)),i=F(()=>S(r.controller)),s=ne(i,a);this.worker=s.pipe(p(f=>!!f)),this.registration=this.worker.pipe(w(()=>r.getRegistration()));let Q=N(r,"message").pipe(l(f=>f.data)).pipe(p(f=>f&&f.type)).pipe(ce());Q.connect(),this.events=Q}}postMessage(r,t){return this.worker.pipe(u(1),_(a=>{a.postMessage(ee({action:r},t))})).toPromise().then(()=>{})}postMessageWithOperation(r,t,a){let i=this.waitForOperationCompleted(a),s=this.postMessage(r,t);return Promise.all([s,i]).then(([,n])=>n)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(r){let t;return typeof r=="string"?t=a=>a.type===r:t=a=>r.includes(a.type),this.events.pipe(p(t))}nextEventOfType(r){return this.eventsOfType(r).pipe(u(1))}waitForOperationCompleted(r){return this.eventsOfType("OPERATION_COMPLETED").pipe(p(t=>t.nonce===r),u(1),l(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},Ge=(()=>{class e{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new te;constructor(t){if(this.sw=t,!t.isEnabled){this.messages=v,this.notificationClicks=v,this.subscription=v;return}this.messages=this.sw.eventsOfType("PUSH").pipe(l(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(l(i=>i.data)),this.pushManager=this.sw.registration.pipe(l(i=>i.pushManager));let a=this.pushManager.pipe(w(i=>i.getSubscription()));this.subscription=L(a,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(I));let a={userVisibleOnly:!0},i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(i.length));for(let n=0;n<i.length;n++)s[n]=i.charCodeAt(n);return a.applicationServerKey=s,this.pushManager.pipe(w(n=>n.subscribe(a)),u(1)).toPromise().then(n=>(this.subscriptionChanges.next(n),n))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(I));let t=a=>{if(a===null)throw new Error("Not subscribed to push notifications.");return a.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(u(1),w(t)).toPromise()}decodeBase64(t){return atob(t)}static \u0275fac=function(a){return new(a||e)(R(y))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})(),$e=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=v,this.unrecoverable=v;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(I));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(I));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static \u0275fac=function(a){return new(a||e)(R(y))};static \u0275prov=j({token:e,factory:e.\u0275fac})}return e})();var ke=new T("");function Ze(e,r,t){return()=>{if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let a=e.get(me),i=e.get(B);a.runOutsideAngular(()=>{let n=navigator.serviceWorker,m=()=>n.controller?.postMessage({action:"INITIALIZE"});n.addEventListener("controllerchange",m),i.onDestroy(()=>{n.removeEventListener("controllerchange",m)})});let s;if(typeof t.registrationStrategy=="function")s=t.registrationStrategy();else{let[n,...m]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(n){case"registerImmediately":s=S(null);break;case"registerWithDelay":s=Oe(+m[0]||0);break;case"registerWhenStable":let O=re(e.get(B).whenStable());s=m[0]?L(O,Oe(+m[0])):O;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}a.runOutsideAngular(()=>s.pipe(u(1)).subscribe(()=>navigator.serviceWorker.register(r,{scope:t.scope}).catch(n=>console.error("Service worker registration failed with:",n))))}}function Oe(e){return S(null).pipe(oe(e))}function Xe(e){return new y(e.enabled!==!1?navigator.serviceWorker:void 0)}var E=class{enabled;scope;registrationStrategy};function Fe(e,r={}){return de([Ge,$e,{provide:ke,useValue:e},{provide:E,useValue:r},{provide:y,useFactory:Xe,deps:[E]},{provide:pe,useFactory:Ze,deps:[se,ke,E],multi:!0}])}var Ne={providers:[ve({eventCoalescing:!0}),we(Ae),Fe("ngsw-worker.js",{enabled:!he(),registrationStrategy:"registerWhenStable:30000"})]};Ce(C,Ne).catch(e=>console.error(e));
