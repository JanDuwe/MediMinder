import{a as oe,b as P,d as se,e as ae}from"./chunk-VQ27SGDS.js";import{a as pe,c as ce,e as de}from"./chunk-YFPPG2LN.js";import{$a as X,Bb as te,Cb as ne,D as m,E as K,Ga as M,J as Z,N as v,Na as S,Ob as re,P as $,Pb as ie,R as x,Ra as N,U as z,Ua as Q,W as k,Wa as R,X as G,Y as q,a as W,db as a,ea as Y,eb as p,fb as C,fc as le,h as H,ja as J,k as L,l as y,m as B,p as l,s as V,sb as c,t as _,tb as j,v as D,w as A,x as g,xb as O,y as h,yb as ee,zb as F}from"./chunk-TVMIASJT.js";function be(t,n){t&1&&(a(0,"mat-icon"),c(1,"bluetooth_connected"),p(),c(2," Arduino verbunden "))}function we(t,n){t&1&&(a(0,"mat-icon"),c(1,"bluetooth_disabled"),p(),c(2,"Nicht verbunden "))}var b=class t{bluetoothService=G(le);date=new Date;constructor(){setInterval(()=>{this.date=new Date},1e3)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-header"]],decls:28,vars:11,consts:[[1,"app-header"],[1,"left"],[1,"logo"],["src","././icons/icon-192x192.png","alt","MediMinder Logo"],[1,"info"],[1,"right"],[1,"date-time-wrapper"],[1,"time"],[1,"date"],[1,"bluetooth-connection-status"],[1,"main-wrapper"],[1,"main-content-container"]],template:function(e,r){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),C(3,"img",3),p(),a(4,"div",4)(5,"h1"),c(6,"MediMinder"),p(),a(7,"p"),c(8,"Patient: Max Mustermann"),p(),a(9,"p"),c(10,"Pflege: Max Mustermann"),p()()(),a(11,"div",5)(12,"div",6)(13,"div",7),c(14),O(15,"date"),p(),a(16,"div",8),c(17),O(18,"date"),p()(),a(19,"div",9)(20,"mat-card")(21,"mat-card-content"),N(22,be,3,0),O(23,"async"),N(24,we,3,0),p()()()()(),a(25,"div",10)(26,"div",11),C(27,"router-outlet"),p()()),e&2&&(M(14),j(F(15,3,r.date,"HH:mm:ss")),M(3),j(F(18,6,r.date,"dd.MM.yyyy")),M(5),X(ee(23,9,r.bluetoothService.connectionStatus$)?22:24))},dependencies:[ie,ae,de,pe,ce,P,re],styles:[".app-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background-color:#dcdcdc}.app-header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:1.5rem 0rem 1.5rem 1.5rem}.app-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:1.5rem;align-items:flex-end;flex-direction:column;justify-content:center;padding-right:1.5rem}.app-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center}.app-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:3rem;font-weight:600;padding-bottom:.5rem}.app-header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{text-align:end;padding-right:.25rem}"]})};var ue=[{path:"",component:b,children:[{path:"",loadComponent:()=>import("./chunk-JUDBERZZ.js").then(t=>t.HomeComponent)}]},{path:"details",component:b,children:[{path:"",loadComponent:()=>import("./chunk-PBQXDSOE.js").then(t=>t.DetailsComponent)}]}];var E="Service workers are disabled or not supported by this browser";function Ee(t){return _(()=>B(new Error(t)))}var f=class{serviceWorker;worker;registration;events;constructor(n){if(this.serviceWorker=n,!n)this.worker=this.events=this.registration=Ee(E);else{let r=D(n,"controllerchange").pipe(l(()=>n.controller)),o=_(()=>y(n.controller)),s=V(o,r);this.worker=s.pipe(h(u=>!!u)),this.registration=this.worker.pipe(v(()=>n.getRegistration()));let U=D(n,"message").pipe(l(u=>u.data)).pipe(h(u=>u&&u.type)).pipe(Z());U.connect(),this.events=U}}postMessage(n,e){return this.worker.pipe(m(1),$(r=>{r.postMessage(W({action:n},e))})).toPromise().then(()=>{})}postMessageWithOperation(n,e,r){let o=this.waitForOperationCompleted(r),s=this.postMessage(n,e);return Promise.all([s,o]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(n){let e;return typeof n=="string"?e=r=>r.type===n:e=r=>n.includes(r.type),this.events.pipe(h(e))}nextEventOfType(n){return this.eventsOfType(n).pipe(m(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe(h(e=>e.nonce===n),m(1),l(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},ye=(()=>{class t{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new H;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=g,this.notificationClicks=g,this.subscription=g;return}this.messages=this.sw.eventsOfType("PUSH").pipe(l(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(l(o=>o.data)),this.pushManager=this.sw.registration.pipe(l(o=>o.pushManager));let r=this.pushManager.pipe(v(o=>o.getSubscription()));this.subscription=A(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(E));let r={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(o.length));for(let i=0;i<o.length;i++)s[i]=o.charCodeAt(i);return r.applicationServerKey=s,this.pushManager.pipe(v(i=>i.subscribe(r)),m(1)).toPromise().then(i=>(this.subscriptionChanges.next(i),i))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(E));let e=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(m(1),v(e)).toPromise()}decodeBase64(e){return atob(e)}static \u0275fac=function(r){return new(r||t)(k(f))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})(),Me=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=g,this.unrecoverable=g;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(E));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(E));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(r){return new(r||t)(k(f))};static \u0275prov=x({token:t,factory:t.\u0275fac})}return t})();var ge=new z("");function Se(t,n,e){return()=>{if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let r=t.get(J),o=t.get(R);r.runOutsideAngular(()=>{let i=navigator.serviceWorker,d=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",d),o.onDestroy(()=>{i.removeEventListener("controllerchange",d)})});let s;if(typeof e.registrationStrategy=="function")s=e.registrationStrategy();else{let[i,...d]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":s=y(null);break;case"registerWithDelay":s=fe(+d[0]||0);break;case"registerWhenStable":let T=L(t.get(R).whenStable());s=d[0]?A(T,fe(+d[0])):T;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.runOutsideAngular(()=>s.pipe(m(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(i=>console.error("Service worker registration failed with:",i))))}}function fe(t){return y(null).pipe(K(t))}function Oe(t){return new f(t.enabled!==!1?navigator.serviceWorker:void 0)}var w=class{enabled;scope;registrationStrategy};function he(t,n={}){return q([ye,Me,{provide:ge,useValue:t},{provide:w,useValue:n},{provide:f,useFactory:Oe,deps:[w]},{provide:Q,useFactory:Se,deps:[Y,ge,w],multi:!0}])}var ve={providers:[te({eventCoalescing:!0}),se(ue),he("ngsw-worker.js",{enabled:!ne(),registrationStrategy:"registerWhenStable:30000"})]};var I=class t{title="MediMinder";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=S({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){e&1&&C(0,"router-outlet")},dependencies:[P],encapsulation:2})};oe(I,ve).catch(t=>console.error(t));
